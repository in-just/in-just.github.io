{"version":3,"sources":["Header.js","Input.js","index.js"],"names":["Header","react_default","a","createElement","Jumbotron_default","Input","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","handleSubmit","bind","assertThisInitialized","fileInput","React","createRef","Card_default","style","width","Body","onSubmit","className","map","type","key","concat","Form_default","Check","inline","label","name","id","htmlFor","placeholder","ref","multiple","event","preventDefault","alert","current","files","Nuxeo","require","nuxeo","baseURL","auth","method","token","connect","then","client","console","log","catch","error","input","document","getElementById","title","value","description","creator","language","copyright","file","Blob","content","batchUpload","upload","res","operation","context","currentDocument","docMetaData","blob","execute","schemas","path","Component","ReactDOM","render","src_Header","src_Input"],"mappings":"+MAYeA,MATf,WACI,OACIC,EAAAC,EAAAC,cAACC,EAAAF,EAAD,KACID,EAAAC,EAAAC,cAAA,yFACAF,EAAAC,EAAAC,cAAA,8KCgSGE,cAlSX,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACfE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,aAAeP,EAAKO,aAAaC,KAAlBP,OAAAQ,EAAA,EAAAR,CAAAD,IACpBA,EAAKU,UAAYC,IAAMC,YAHRZ,wEAOf,OACEN,EAAAC,EAAAC,cAACiB,EAAAlB,EAAD,CAAMmB,MAAO,CAACC,MAAO,QACrBrB,EAAAC,EAAAC,cAACiB,EAAAlB,EAAKqB,KAAN,KACEtB,EAAAC,EAAAC,cAAA,QAAMqB,SAAUd,KAAKI,cACrBb,EAAAC,EAAAC,cAAA,OAAKsB,UAAU,cAGZ,CAAC,SAASC,IAAI,SAAAC,GAAI,OACjB1B,EAAAC,EAAAC,cAAA,OAAKyB,IAAG,UAAAC,OAAYF,GAAQF,UAAU,QACpCxB,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAK6B,MAAN,CAAYC,QAAM,EAACC,MAAM,iBAAiBC,KAAK,QAAQP,KAAMA,EAAMQ,GAAE,UAAAN,OAAYF,EAAZ,QACrE1B,EAAAC,EAAAC,cAAC2B,EAAA5B,EAAK6B,MAAN,CAAYC,QAAM,EAACC,MAAM,iBAAiBC,KAAK,QAAQP,KAAMA,EAAMQ,GAAE,UAAAN,OAAYF,EAAZ,WAK3E1B,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,gBAAf,gBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,eACHD,KAAK,eACLP,KAAK,OACLU,YAAY,+DAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,cAAf,oBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,aACHD,KAAK,aACLP,KAAK,OACLU,YAAY,6CAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,mBAAf,yBACAnC,EAAAC,EAAAC,cAAA,SACAsB,UAAU,eACVU,GAAG,kBACHD,KAAK,kBACLP,KAAK,OACLU,YAAY,yKAEZpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,aAAf,2BACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,WACHD,KAAK,WACLP,KAAK,OACLU,YAAY,eAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,YAAf,0BACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,WACHD,KAAK,WACLP,KAAK,OACLU,YAAY,cAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,eAAf,0BACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,cACHD,KAAK,cACLP,KAAK,OACLU,YAAY,2BAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,SAAf,SACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,QACHD,KAAK,QACLP,KAAK,OACLU,YAAY,qBAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,eAAf,eACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,cACHD,KAAK,cACLP,KAAK,OACLU,YAAY,wEAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,aAAf,oBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,YACHD,KAAK,YACLP,KAAK,OACLU,YAAY,2CAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,QAAf,sBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,OACHD,KAAK,OACLP,KAAK,OACLU,YAAY,iBAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,WAAf,WACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,UACHD,KAAK,UACLP,KAAK,UACLU,YAAY,eAGdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,YAAf,eACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,WACHD,KAAK,WACLP,KAAK,WACLU,YAAY,iBAIdpC,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,SAAf,SACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,QACHD,KAAK,QACLP,KAAK,OACLU,YAAY,qBAGdpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,eAAf,eACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,cACHD,KAAK,cACLP,KAAK,OACLU,YAAY,wEAGdpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,aAAf,oBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,YACHD,KAAK,YACLP,KAAK,OACLU,YAAY,2CAGhBpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,sBAEAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,WAAf,0CACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,UACHD,KAAK,UACLP,KAAK,UACLU,YAAY,iBAGdpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,QAAf,sBACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,OACHD,KAAK,OACLP,KAAK,OACLU,YAAY,iBAGdpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,WAAf,WACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,UACHD,KAAK,UACLP,KAAK,UACLU,YAAY,eAGdpC,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAOiC,QAAQ,YAAf,eACAnC,EAAAC,EAAAC,cAAA,SACEsB,UAAU,eACVU,GAAG,WACHD,KAAK,WACLP,KAAK,WACLU,YAAY,gBAEdpC,EAAAC,EAAAC,cAAA,WAEAF,EAAAC,EAAAC,cAAA,qCAEMF,EAAAC,EAAAC,cAAA,SAAOwB,KAAK,OAAOQ,GAAG,QAAQG,IAAK5B,KAAKO,UAAWsB,UAAQ,KAE7DtC,EAAAC,EAAAC,cAAA,UAAQwB,KAAK,UAAb,kDAQGa,GACTA,EAAMC,iBACNC,MAAK,mBAAAb,OAEGnB,KAAKO,UAAU0B,QAAQC,MAAM,GAAGV,OAIxC,IAAIW,EAAQC,EAAQ,IAChBC,EAAQ,IAAIF,EAAM,CAClBG,QAAS,iCACTC,KAAM,CACFC,OAAQ,QACRC,MAAO,0CAGfJ,EAAMK,UACLC,KAAK,SAASC,GACXC,QAAQC,IAAI,mBAEfC,MAAM,SAASC,GAEZ,MADAH,QAAQC,IAAI,wBACNE,IAGV,IAAIC,EAASC,SAASC,eAAe,SAASjB,MAAM,GAGhDkB,EAAQ,eAAiBF,SAASC,eAAe,SAASE,MAC1DC,EAAc,qBAAuBJ,SAASC,eAAe,eAAeE,MAC5EE,EAAU,iBAAmBL,SAASC,eAAe,WAAWE,MAChEG,EAAW,0CAA+CN,SAASC,eAAe,YAAYE,MAAQ,OACtGI,EAAY,kCAAoCP,SAASC,eAAe,aAAaE,MAEnFK,EAAO,IAAIvB,EAAMwB,KAAK,CAC1BC,QAASX,IAOXZ,EAAMwB,cACLC,OAAOJ,GACPf,KAAK,SAASoB,GACb1B,EAAM2B,UAAU,kCACbC,QAAQ,CAAEC,gBAPK,wCAQdC,YAPY,sHAQEf,EAAQE,EAAcC,EAAUE,EAAYD,IAE3DP,MAAMc,EAAIK,MACVC,QAAQ,CACPC,QAAS,CAAC,QACVC,KAAMb,EAAKlC,OAIfqB,QAAQC,IAAIT,EAAM2B,UAAU,4BAC5BnB,QAAQC,IAAIG,YA9RFzC,IAAMgE,iBCK1BC,IAASC,OAIHnF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAACkF,EAAD,MAEApF,EAAAC,EAAAC,cAACmF,EAAD,OAPiB1B,SAASC,eAAe","file":"static/js/main.167de50f.chunk.js","sourcesContent":["import React from \"react\"\r\nimport Jumbotron from \"react-bootstrap/Jumbotron\"\r\n\r\nfunction Header() {\r\n    return(        \r\n        <Jumbotron>\r\n            <h2>Welcome to the Transforming Knowledge, Transforming Libraries Landing Page!</h2>            \r\n            <p>Here you will be able to upload your digital asset and metadata associations.</p>                    \r\n        </Jumbotron>\r\n    )\r\n}\r\n\r\nexport default Header","import React from \"react\"\r\nimport Card from 'react-bootstrap/Card'\r\nimport Form from 'react-bootstrap/Form'\r\n\r\nclass Input extends React.Component {\r\n    constructor(props) {\r\n        super(props);\r\n        this.handleSubmit = this.handleSubmit.bind(this);\r\n        this.fileInput = React.createRef();        \r\n    }\r\n    \r\n    render() {\r\n        return (\r\n          <Card style={{width: '80%'}}>\r\n          <Card.Body>\r\n            <form onSubmit={this.handleSubmit}>\r\n            <div className=\"form-group\">\r\n                            \r\n            \r\n              {['radio'].map(type => (\r\n                <div key={`inline-${type}`} className=\"mb-3\">\r\n                  <Form.Check inline label=\"Single item(s)\" name=\"radio\" type={type} id={`inline-${type}-1`} />\r\n                  <Form.Check inline label=\"Group of items\" name=\"radio\" type={type} id={`inline-${type}-2`} />\r\n                </div>\r\n              ))}\r\n            \r\n\r\n            <label htmlFor=\"organization\">Organization</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"organization\"\r\n              name=\"organization\"\r\n              type=\"text\"\r\n              placeholder=\"Name of the organization or group you are affiliated with.\"\r\n              />\r\n            <br></br>\r\n\r\n            <label htmlFor=\"collection\">Collection Title</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"collection\"\r\n              name=\"collection\"\r\n              type=\"text\"\r\n              placeholder=\"i.e. Irvine Global Village Festival 2019\"\r\n              />\r\n            <br></br>\r\n            \r\n            <label htmlFor=\"aboutcollection\">About This Collection</label>\r\n            <input\r\n            className=\"form-control\"\r\n            id=\"aboutcollection\"\r\n            name=\"aboutcollection\"\r\n            type=\"text\"\r\n            placeholder=\"i.e. Collection of photographs of the 2019 Irvine Global Village festival founded in 1990. This festival celebrates the diversity of the City of Irvine, California.\"\r\n            />\r\n            <br></br>\r\n            \r\n            <label htmlFor=\"firstname\">First Name of submitter</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"username\"\r\n              name=\"username\"\r\n              type=\"text\"\r\n              placeholder=\"First name\"\r\n              />        \r\n            <br></br>\r\n           \r\n            <label htmlFor=\"lastname\">Last Name of submitter</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"lastname\"\r\n              name=\"lastname\"\r\n              type=\"text\"\r\n              placeholder=\"Last name\"\r\n              />\r\n            <br></br>\r\n            \r\n            <label htmlFor=\"phonenumber\">Submitter Phone Number</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"phonenumber\"\r\n              name=\"phonenumber\"\r\n              type=\"text\"\r\n              placeholder=\"Submitter Phone Number\"\r\n              />\r\n            <br></br>\r\n\r\n            <label htmlFor=\"title\">Title</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Title of item(s)\"\r\n              />\r\n            <br></br>\r\n\r\n            <label htmlFor=\"description\">Description</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              placeholder=\"Short caption about your object i.e. Photograph of juggler on stage\"\r\n              />          \r\n            <br></br>\r\n\r\n            <label htmlFor=\"copyright\">Copyright Status</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"copyright\"\r\n              name=\"copyright\"\r\n              type=\"text\"\r\n              placeholder=\"Name(s) of rights holder(s), if known.\"\r\n            />\r\n            <br></br>\r\n\r\n            <label htmlFor=\"date\">Date (MM/DD/YYYY) </label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"date\"\r\n              name=\"date\"\r\n              type=\"date\"\r\n              placeholder=\"Keyword/tags\"\r\n              />      \r\n            <br></br>\r\n\r\n            <label htmlFor=\"creator\">Creator</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"creator\"\r\n              name=\"creator\"\r\n              type=\"creator\"\r\n              placeholder=\"Creator(s)\"\r\n              />\r\n\r\n            <br></br>\r\n\r\n            <label htmlFor=\"language\">Language(s)</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"language\"\r\n              name=\"language\"\r\n              type=\"language\"\r\n              placeholder=\"Language(s)\"\r\n              />\r\n            </div>\r\n        \r\n            <label htmlFor=\"title\">Title</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"title\"\r\n              name=\"title\"\r\n              type=\"text\"\r\n              placeholder=\"Title of item(s)\"\r\n              />\r\n            \r\n            <br></br>\r\n            <label htmlFor=\"description\">Description</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"description\"\r\n              name=\"description\"\r\n              type=\"text\"\r\n              placeholder=\"Short caption about your object i.e. Photograph of juggler on stage\"\r\n              />\r\n            \r\n            <br></br>\r\n            <label htmlFor=\"copyright\">Copyright Status</label>\r\n            <input\r\n              className=\"form-control\"\r\n              id=\"copyright\"\r\n              name=\"copyright\"\r\n              type=\"text\"\r\n              placeholder=\"Name(s) of rights holder(s), if known.\"\r\n              />\r\n\r\n          <br></br> \r\n          <h3>Metadata</h3>\r\n                    \r\n          <label htmlFor=\"keyword\">Keyword/tags (separate with semicolon)</label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"keyword\"\r\n            name=\"keyword\"\r\n            type=\"keyword\"\r\n            placeholder=\"Keyword/tags\"\r\n            />      \r\n          \r\n          <br></br>\r\n          <label htmlFor=\"date\">Date (MM/DD/YYYY) </label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"date\"\r\n            name=\"date\"\r\n            type=\"date\"\r\n            placeholder=\"Keyword/tags\"\r\n            />      \r\n\r\n          <br></br>\r\n          <label htmlFor=\"creator\">Creator</label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"creator\"\r\n            name=\"creator\"\r\n            type=\"creator\"\r\n            placeholder=\"Creator(s)\"\r\n            />\r\n\r\n          <br></br>\r\n          <label htmlFor=\"language\">Language(s)</label>\r\n          <input\r\n            className=\"form-control\"\r\n            id=\"language\"\r\n            name=\"language\"\r\n            type=\"language\"\r\n            placeholder=\"Language(s)\"\r\n          />\r\n          <br></br>\r\n\r\n          <label> \r\n                Click to select file:\r\n                <input type=\"file\" id=\"input\" ref={this.fileInput} multiple/>                                                     \r\n              </label>\r\n              <button type=\"submit\">Submit</button>\r\n          </form>\r\n\r\n        </Card.Body>        \r\n        </Card>    \r\n        );\r\n    }\r\n\r\n    handleSubmit(event) {\r\n        event.preventDefault();\r\n        alert(\r\n            `Selected file - ${\r\n                this.fileInput.current.files[0].name                \r\n            }`            \r\n        )               \r\n\r\n        var Nuxeo = require('nuxeo/es5');\r\n        var nuxeo = new Nuxeo({\r\n            baseURL: 'https://nuxeo.cdlib.org/Nuxeo/',\r\n            auth: {      \r\n                method: 'token',\r\n                token: '6e1c6b4e-e5d2-4a94-8d6c-43b171f4560e'\r\n            }\r\n        });   \r\n        nuxeo.connect()\r\n        .then(function(client){                    \r\n            console.log('Connected OK!');          \r\n        })\r\n        .catch(function(error) {\r\n            console.log('Error authenticating');\r\n            throw error;\r\n        });\r\n       \r\n        let input  = document.getElementById('input').files[0];   \r\n\r\n        // Metadata Fields\r\n        let title = \"\\ndc:title= \" + document.getElementById('title').value;\r\n        let description = \"\\ndc:description= \" + document.getElementById('description').value;\r\n        let creator = \"\\ndc:creator= \" + document.getElementById('creator').value;\r\n        var language = \"\\nucldc_schema:language=[ {\\\"language\\\":\\\"\" + document.getElementById('language').value + \"\\\"} ]\";\r\n        let copyright = \"\\nucldc_schema:accessrestrict= \" + document.getElementById('copyright').value;\r\n\r\n        const file = new Nuxeo.Blob({\r\n          content: input\r\n        });\r\n        \r\n        // Uploads file to the Nuxeo DAMS\r\n        let upload_folder = '/asset-library/UCI/tktltest/My Folder';\r\n        var complexprop = \"ucldc_schema:formgenre=[ {\\\"heading\\\":\\\"sculpture (visual work)\\\",\\\"source\\\":\\\"aat\\\"}, {\\\"heading\\\":\\\"Heian\\\",\\\"source\\\":\\\"aat\\\"} ]\"\r\n        \r\n        nuxeo.batchUpload()                \r\n        .upload(file)\r\n        .then(function(res) {          \r\n          nuxeo.operation('FileManager.ImportWithMetaData')\r\n            .context({ currentDocument: upload_folder,\r\n              docMetaData: \r\n              complexprop + title + description + creator + copyright + language              \r\n            })\r\n            .input(res.blob)\r\n            .execute({\r\n              schemas: ['file'],\r\n              path: file.name\r\n            });\r\n          //http://explorer.nuxeo.com/nuxeo/site/distribution/Nuxeo%20Platform%2010.3/viewOperation/JsonStack.ToggleDisplay\r\n          //https://doc.nuxeo.com/nxdoc/error-handling/                    \r\n          console.log(nuxeo.operation('JsonStack.ToggleDisplay'));          \r\n          console.log(input);\r\n        })\r\n    }\r\n}\r\n\r\nexport default Input","// import 'bootstrap/dist/css/bootstrap.min.css';\r\nimport React from \"react\"\r\nimport ReactDOM from \"react-dom\"\r\nimport Header from \"./Header\"\r\n// import Forms from \"./Forms\"\r\nimport Input from \"./Input\"\r\nimport './style.css'\r\n\r\n// JSX\r\nReactDOM.render(MyApp(), document.getElementById(\"root\"))\r\n    \r\n    function MyApp() {\r\n    return (\r\n      <div>        \r\n        <Header/>\r\n        {/* <Forms />         */}\r\n        <Input/>\r\n        </div>\r\n      )\r\n}"],"sourceRoot":""}